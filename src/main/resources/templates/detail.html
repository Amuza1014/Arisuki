<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ä½œå“è©³ç´° - ArrayList&lt;Suki&gt;</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<style>
body {
	background-color: #121212;
	color: #e0e0e0;
	font-family: 'Helvetica Neue', Arial, sans-serif;
	padding-bottom: 80px;
}

.detail-container {
	background-color: #1e1e1e;
	max-width: 800px;
	margin: 50px auto;
	padding: 30px;
	border-radius: 15px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.main-img {
	width: 100%;
	max-height: 450px;
	object-fit: cover;
	border-radius: 15px;
	background: #252525;
	margin-bottom: 20px;
}

.custom-card {
    background-color: #121212;
}

.custom-text{
	color: white;
}

.label-text {
	font-weight: bold;
	color: #2ecc71; /* ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®ç·‘ */
	min-width: 100px;
	display: inline-block;
}

/* ç·‘ãƒœã‚¿ãƒ³ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ï¼ˆBootstrapã®btn-successã‚’ä¸Šæ›¸ãï¼‰ */
.btn-custom-green {
    background-color: #2ecc71;
    color: white;
    border: none;
}
.btn-custom-green:hover {
    background-color: #27ae60;
    color: white;
}
</style>
</head>
<body>
	<div class="container mt-5 mb-5">
		<div class="detail-container">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h2 class="fw-bold" th:text="${item.title}">ä½œå“å</h2>
				<div>
					<span th:if="${item.category == '1'}" class="badge bg-primary fs-6">ğŸ“– Book</span>
					<span th:if="${item.category == '2'}" class="badge bg-warning text-dark fs-6">ğŸ¬ Movie</span> 
					<span th:if="${item.category == '3'}" class="badge bg-success fs-6">ğŸ® Game</span>
				</div>
			</div>

			<img
				th:src="${item.thumbnailUrl != null && !item.thumbnailUrl.isEmpty()} ? ${item.thumbnailUrl} : 'https://placehold.jp/800x450.png?text=No%20Image'"
				class="main-img shadow-sm" alt="thumbnail">

			<div class="card custom-card p-4 mb-4 border-0">
				<h5 class="fw-bold mb-3 border-bottom pb-2 custom-text">ğŸ“‹ åŸºæœ¬æƒ…å ±</h5>
				<div th:if="${item.category == '1'}">
					<p><span class="label-text">è‘—è€…ï¼š</span><span th:text="${item.creator}" class="custom-text"></span></p>
					<p><span class="label-text">å‡ºç‰ˆç¤¾ï¼š</span><span th:text="${item.publisher}" class="custom-text"></span></p>
					<p><span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span th:text="${item.subAttribute}" class="custom-text"></span></p>
				</div>
				<div th:if="${item.category == '2'}">
					<p><span class="label-text">ç›£ç£ï¼š</span><span th:text="${item.creator}" class="custom-text"></span></p>
					<p><span class="label-text">ã‚¿ã‚¤ãƒ—ï¼š</span><span th:text="${item.publisher}" class="custom-text"></span></p>
					<p><span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span th:text="${item.subAttribute}" class="custom-text"></span></p>
				</div>
				<div th:if="${item.category == '3'}">
					<p><span class="label-text">ãƒ¡ãƒ¼ã‚«ãƒ¼ï¼š</span><span th:text="${item.creator}" class="custom-text"></span></p>
					<p><span class="label-text">ãƒãƒ¼ãƒ‰ï¼š</span><span th:text="${item.publisher}" class="custom-text"></span></p>
					<p><span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span th:text="${item.subAttribute}" class="custom-text"></span></p>
				</div>
			</div>

			<div class="mb-5">
				<h5 class="fw-bold mb-3 border-bottom pb-2">âœï¸ ãƒ¬ãƒ“ãƒ¥ãƒ¼</h5>
				<p class="fs-5 p-3 custom-card" style="white-space: pre-wrap;" th:text="${item.reviewText}">
				ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ãŒã“ã“ã«å…¥ã‚Šã¾ã™ã€‚
				</p>
			</div>

			<div class="d-flex justify-content-center flex-wrap gap-3">
                <a th:href="@{/timeline}" class="btn btn-custom-green px-4">
                    ğŸŒ Timelineã«æˆ»ã‚‹
                </a>

				<a th:href="@{/mypage}" class="btn btn-outline-light px-4">Collectionsã«æˆ»ã‚‹</a>

				<th:block th:with="isOwner=${session.user != null && item.user != null && session.user.id == item.user.id}">
					<a th:href="@{/edit/{id}(id=${item.id})}"
						class="btn btn-warning px-4"
						th:classappend="${!isOwner} ? 'disabled'"
						th:aria-disabled="${!isOwner}">ç·¨é›†ã™ã‚‹</a>
					<form th:action="@{/delete/{id}(id=${item.id})}" method="post"
						onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')">
						<button type="submit" class="btn btn-danger px-4"
							th:disabled="${!isOwner}">å‰Šé™¤ã™ã‚‹</button>
					</form>
				</th:block>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>