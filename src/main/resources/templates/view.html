<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>閲覧ページ</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body { background-color: #121212;
	color: #e0e0e0;
	font-family: 'Helvetica Neue', Arial, sans-serif;
	/* 下部メニューの高さ分、余白を確保（スマホのみ） */
	padding-bottom: 80px; }
	
    .container-box {
        max-width: 700px;
        margin: 50px auto;
    }
    
    .card {
	background-color: #1e1e1e;
	border-radius: 12px;
	border: 1px solid #333;
	transition: all 0.3s ease;
	overflow: hidden;
}
/* .card:hover {
	transform: translateY(-8px);
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
	border-color: #2ecc71;
} */

.card-img-top {
	height: 200px;
	object-fit: cover;
	filter: brightness(0.8);
	transition: 0.3s;
}

/* .card:hover .card-img-top {
	filter: brightness(1.0);
} */

.card-link {
	text-decoration: none;
	color: inherit;
}

.btn-custom-green {
	background-color: #2ecc71;
	color: #fff;
	border: none;
	font-weight: bold;
	padding: 8px 20px;
	border-radius: 8px;
	transition: 0.3s;
}

.btn-custom-green:hover {
    background-color: #27ae60;  /* 少し濃い緑 */
    color: #ffffff;
}
    
    .rating {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
}

.rating input {
    display: none;
}

.rating label {
    font-size: 2rem;
    color: #ddd;
    cursor: pointer;
    transition: 0.2s;
}

.rating input:checked ~ label {
    color: #ffc107;
}

.rating label:hover,
.rating label:hover ~ label {
    color: #ffc107;
}

.text-secondary-muted {
	/* color: #9e9e9e !important; */
	color: white;
}

.text-color-pink{
	color: pink;}

</style>
</head>
<body>

<div class="container container-box">

    <div class="card shadow">

        <img th:if="${item.thumbnailUrl != null}"
             th:src="${item.thumbnailUrl}"
             class="card-img-top">

        <div class="card-body">

            <h3 th:text="${item.title}"  class="text-secondary-muted mb-0"></h3>
            

		<div>
   			<p class="text-color-pink">
   				posted:<span th:text="${item.user.username}" class="text-color-pink"></span>
   			</p>
		</div>
            
            <p  class="text-secondary-muted mb-0" th:text="${item.creator}"></p>

            <hr>

            <p th:text="${item.reviewText}"  class="text-secondary-muted mb-0"></p>

            <a th:href="@{/timeline}"  class="btn btn-custom-green">
               タイムラインに戻る
            </a>


<hr>

<div th:if="${#lists.isEmpty(comments)}" class="text-color-pink">
    <p>まだコメントはありません</p>
</div>

<div class="text-color-pink">
<p>コメント一覧：</p>
<div th:each="c : ${comments}">
<p>
	<span>username:</span>
    <strong th:text="${c.user.username}" class="text-color-pink"></strong>
</p>    
<p>
   <span>Comment:</span>
    <span th:text="${c.content}"></span></p>
    <hr>
</div>
</div>

<div th:if="${session.user != null}">
    <form action="#" th:action="@{/view/{id}(id=${item.id})}" method="post">
        <input type="text" name="comment" />
        <button type="submit">コメント</button>
    </form>
</div>
            
          

        </div>
    </div>

</div>

</body>
</html>