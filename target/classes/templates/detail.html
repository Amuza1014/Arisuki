<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ä½œå“è©³ç´° - ArrayList&lt;Suki&gt;</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<style>
body {
	background-color: #fff5f8;
}

.detail-container {
	max-width: 800px;
	margin: 50px auto;
	background: white;
	padding: 40px;
	border-radius: 20px;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.main-img {
	width: 100%;
	max-height: 400px;
	object-fit: contain;
	border-radius: 10px;
	background: #f8f9fa;
	margin-bottom: 20px;
}

.label-text {
	font-weight: bold;
	color: #ff4081;
	min-width: 100px;
	display: inline-block;
}
</style>
<meta charset="UTF-8">
<title>ä½œå“è©³ç´° - ArrayList&lt;Suki&gt;</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<style>
body {
	background-color: #fff5f8;
}

.detail-container {
	max-width: 800px;
	margin: 50px auto;
	background: white;
	padding: 30px;
	border-radius: 15px;
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.detail-img {
	width: 100%;
	max-height: 400px;
	object-fit: contain;
	border-radius: 10px;
	background: #f8f9fa;
}
</style>
</head>
<body>
	<div class="container mt-5 mb-5">
		<div class="detail-container">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h2 class="fw-bold" th:text="${item.title}">ä½œå“å</h2>
				<div>
					<span th:if="${item.category == '1'}" class="badge bg-primary fs-6">ğŸ“–
						ãƒ–ãƒƒã‚¯</span> <span th:if="${item.category == '2'}"
						class="badge bg-warning text-dark fs-6">ğŸ¬ ãƒ ãƒ¼ãƒ“ãƒ¼</span> <span
						th:if="${item.category == '3'}" class="badge bg-success fs-6">ğŸ®
						ã‚²ãƒ¼ãƒ </span>
				</div>
			</div>

			<img
				th:src="${item.thumbnailUrl != null && !item.thumbnailUrl.isEmpty()} ? ${item.thumbnailUrl} : 'https://placehold.jp/800x450.png?text=No%20Image'"
				class="main-img mb-4 shadow-sm" alt="thumbnail"
				style="width: 100%; border-radius: 15px; object-fit: cover; max-height: 450px;">

			<div class="card bg-light p-4 mb-4 border-0">
				<h5 class="fw-bold mb-3 border-bottom pb-2">ğŸ“‹ åŸºæœ¬æƒ…å ±</h5>
				
				<div th:if="${item.category == '1'}">
					<p>
						<span class="label-text">è‘—è€…ï¼š</span><span th:text="${item.creator}"></span>
					</p>
					<p>
						<span class="label-text">å‡ºç‰ˆç¤¾ï¼š</span><span
							th:text="${item.publisher}"></span>
					</p>
					<p>
						<span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span
							th:text="${item.subAttribute}"></span>
					</p>
				</div>

				<div th:if="${item.category == '2'}">
					<p>
						<span class="label-text">ç›£ç£ï¼š</span><span th:text="${item.creator}"></span>
					</p>
					<p>
						<span class="label-text">ã‚¿ã‚¤ãƒ—ï¼š</span><span
							th:text="${item.publisher}"></span>
					</p>
					<p>
						<span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span
							th:text="${item.subAttribute}"></span>
					</p>
				</div>

				<div th:if="${item.category == '3'}">
					<p>
						<span class="label-text">ãƒ¡ãƒ¼ã‚«ãƒ¼ï¼š</span><span
							th:text="${item.creator}"></span>
					</p>
					<p>
						<span class="label-text">ãƒãƒ¼ãƒ‰ï¼š</span><span
							th:text="${item.publisher}"></span>
					</p>
					<p>
						<span class="label-text">ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</span><span
							th:text="${item.subAttribute}"></span>
					</p>
				</div>
			</div>

			<div class="mb-5">
				<h5 class="fw-bold mb-3 border-bottom pb-2">âœï¸ ãƒ¬ãƒ“ãƒ¥ãƒ¼</h5>
				<p class="fs-5 p-3 bg-white rounded border"
					style="white-space: pre-wrap;" th:text="${item.reviewText}">ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ãŒã“ã“ã«å…¥ã‚Šã¾ã™ã€‚</p>
			</div>

			<div class="d-flex justify-content-center gap-3">
				<a th:href="@{/mypage}" class="btn btn-outline-secondary px-4">æˆ»ã‚‹</a>

				<th:block th:with="isOwner=${session.user != null && item.user != null && session.user.id == item.user.id}">
					
					<a th:href="@{/edit/{id}(id=${item.id})}"
						class="btn btn-warning px-4"
						th:classappend="${!isOwner} ? 'disabled'"
						th:aria-disabled="${!isOwner}">ç·¨é›†ã™ã‚‹</a>

					<form th:action="@{/delete/{id}(id=${item.id})}" method="post"
						onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')">
						<button type="submit" class="btn btn-danger px-4"
							th:disabled="${!isOwner}">å‰Šé™¤ã™ã‚‹</button>
					</form>
					
				</th:block>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>